import{r as t,t as Ce,j as o,c as j,a6 as ve,a7 as he,a8 as xe}from"./index-DOAI5wD-.js";import{i as U,a as ge,A as be}from"./toString-DOk9WYfW.js";import{m as ye}from"./proxy-BSpLPB4F.js";import{G as ce,I as ue,J as Ie,K as Me}from"./index-Bs40O9gV.js";const ne=t.createContext(null),we=ne.Provider;function le(e){const n=t.useRef(null);return e||n}const V=t.createContext({}),de=V.Provider;V.Consumer;function te(e){const[n,r]=t.useState(!1),[s,d]=t.useState([]),[i,u]=t.useState(null),a=t.useRef(null),C=t.useCallback((c,l)=>{d(g=>[...g,{element:c,props:l}])},[]),f=t.useCallback(c=>{d(l=>l.filter(g=>{var v;return((v=g==null?void 0:g.element)==null?void 0:v.id)!==c}))},[]),h=t.useCallback(()=>{requestAnimationFrame(()=>{var c;document.activeElement!==e.current&&(a.current=document.activeElement,(c=e.current)==null||c.focus())})},[e]),p=t.useCallback(c=>{const l=s.indexOf(c);l!==-1&&(u(l),h())},[s,h]),m=t.useCallback((c,l)=>{var g;for(let v=c;v>-1&&v<s.length;v+=l)if(!((g=s[v].props)!=null&&g.disabled))return v;return null},[s]),y=t.useCallback(c=>{if(U(c))u(null),h();else{let l;c===0?l=m(0,1):c===-1&&(l=m(s.length-1,-1)),U(l)||p(s[l])}},[s,p,h,m]),I=t.useCallback(()=>{r(!0),h()},[h]),w=t.useCallback(()=>{r(!1),u(null),requestAnimationFrame(()=>{var c;(c=a.current)==null||c.focus()})},[]);return{open:n,items:s,activeItemIndex:i,registerItem:C,unregisterItem:f,focusItemAt:y,openMenu:I,closeMenu:w}}var J,re;function Ee(){if(re)return J;re=1;var e=ge(),n=0;function r(s){var d=++n;return e(s)+d}return J=r,J}var je=Ee();const Ne=Ce(je),De=(e=10)=>{const n=[],r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=r.length,d=e;for(let i=0;i<d;i++)n[i]=r.charAt(Math.floor(Math.random()*s));return n.join("")};function $(e="",n=10){const r=t.useRef();return r.current||(r.current=`${Ne(e)}-${De(n)}`),r.current}const Z=t.forwardRef((e,n)=>{const{children:r,activeKey:s,onSelect:d,hidden:i,placement:u,menuClass:a,...C}=e,f=le(n),h=$("menu-"),p=te(f),m=c=>{const l=`rotateX(${c}deg)`;return u&&u.includes("center")?`${l} translateX(-50%)`:l},y={opacity:1,visibility:"visible",transform:m(0)},I={opacity:0,visibility:"hidden",transform:m(40)},w=I;return o.jsx(we,{value:{activeKey:s,onSelect:d},children:o.jsx(de,{value:p,children:o.jsx(be,{mode:"wait",children:!i&&o.jsx(ye.ul,{ref:f,id:h,initial:w,animate:y,exit:I,transition:{duration:.15,type:"tween"},className:a,...C,children:r})})})})});Z.displayName="DropdownInnerMenu";function H(...e){return e.filter(n=>n!==null&&typeof n<"u").reduce((n,r)=>{if(typeof r!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return n===void 0?r:function(...d){n.apply(this,d),r.apply(this,d)}},void 0)}const X=t.createContext(null);X.Provider;X.Consumer;const ee=t.forwardRef((e,n)=>{const{asElement:r="div",children:s,className:d,disabled:i,eventKey:u,isActive:a,menuItemHeight:C=35,onSelect:f,style:h,variant:p="light",...m}=e,c=j("menu-item",`menu-item-${p}`,a&&"menu-item-active",i&&"menu-item-disabled",!i&&"menu-item-hoverable",d),l=g=>{f&&f(u,g)};return o.jsx(r,{ref:n,className:c,style:{height:`${C}px`,...h},onClick:l,...m,children:s})});ee.displayName="BaseMenuItem";const{DEFAULT:ke,DIVIDER:ie,HEADER:W,CUSTOM:Y}=ve,se=t.forwardRef((e,n)=>{const{asElement:r="li",children:s,active:d,disabled:i,className:u,submenu:a,style:C,eventKey:f,onClick:h,onSelect:p,variant:m=ke,...y}=e,{mode:I,direction:w}=he(),c=le(n),l=$("menu-item-"),g=t.useRef(null),v=t.useContext(X),x=t.useContext(ne),_=t.useContext(V),b=te(g),R=b.open,E=d||!U(x==null?void 0:x.activeKey)&&(x==null?void 0:x.activeKey)===f||!U(v==null?void 0:v.activeKey)&&(v==null?void 0:v.activeKey)===f,N=t.useCallback(()=>{a&&(b.openMenu(),b.focusItemAt(0))},[a,b]),F=t.useCallback(T=>{var O;p==null||p(f,T),(O=x==null?void 0:x.onSelect)==null||O.call(x,f,T)},[f,p,x]),B=t.useCallback(T=>{i||(a?N():F(T))},[i,a,N,F]),M=t.useCallback(()=>{a&&b.openMenu()},[a,b]),L=t.useCallback(()=>{a&&b.closeMenu()},[a,b]),D={onClick:H(B,h)},{registerItem:A,unregisterItem:S}=_??{};if(a&&(D.onMouseOver=M,D.onMouseOut=L),t.useEffect(()=>(m!==ie&&m!==W&&(A==null||A(c.current,{disabled:i})),()=>{S==null||S(l)}),[A,S,c,l,i,m]),m===ie||m===W||m===Y)return o.jsx(r,{ref:c,id:l,style:C,className:j(`menu-item-${m}`,u),...m===Y?D:{},...y,children:(m===W||m===Y)&&s});function K(){return t.isValidElement(s)?t.cloneElement(s):s}function k(){return a?o.jsx(de,{value:b,children:t.cloneElement(a,{ref:g,hidden:!R})}):null}return a?o.jsxs("li",{...y,style:C,className:"relative",...D,children:[o.jsxs(ee,{ref:c,asElement:"div",id:l,isActive:E,eventKey:f,variant:I,className:j("dropdown-submenu-item",u),children:[o.jsx("span",{children:s}),w==="rtl"?o.jsx(ce,{}):o.jsx(ue,{})]}),k()]}):o.jsxs(ee,{ref:c,asElement:"li",style:C,isActive:E,disabled:i,eventKey:f,variant:I,className:u,...D,...y,children:[K(),k()]})});se.displayName="DropdownItem";const oe=t.forwardRef((e,n)=>{const{eventKey:r,title:s,className:d,placement:i,...u}=e,a=t.useContext(ne),C="dropdown-menu",h=j(C,i,d),p=j(C,"dropdown-submenu"),m=o.jsx(Z,{ref:n,className:p,placement:i,...u});if(a){const y=j(d);return o.jsx(se,{className:y,submenu:m,eventKey:r,children:s})}return o.jsx(Z,{ref:n,className:h,placement:i,...u})});oe.displayName="DropdownMenu";const Ae=({placement:e,children:n})=>e&&e.includes("middle-start")?o.jsxs(o.Fragment,{children:[n,o.jsx(ue,{})]}):e&&e.includes("middle-end")?o.jsxs(o.Fragment,{children:[o.jsx(ce,{}),n]}):e&&e.includes("top")?o.jsxs(o.Fragment,{children:[n,o.jsx(Ie,{})]}):o.jsxs(o.Fragment,{children:[n,o.jsx(Me,{})]}),me=t.forwardRef((e,n)=>{const{className:r,renderTitle:s,children:d,placement:i="bottom-start",disabled:u,toggleClassName:a,...C}=e,p=j("dropdown-toggle",r,a,u&&"dropdown-toggle-disabled"),m=j(p,"dropdown-toggle-default");return s?o.jsx("div",{className:p,...C,ref:n,children:s}):o.jsx("div",{ref:n,className:m,...C,children:o.jsx("span",{className:"flex items-center",children:o.jsx(Ae,{placement:i,children:d})})})});me.displayName="DropdownToggle";const ae=(e,n)=>{if(e.contains)return e.contains(n);if(e.compareDocumentPosition)return e===n||!!(e.compareDocumentPosition(n)&16);if(n)do if(n===e)return!0;while(n=n.parentNode);return!1},Se=e=>e&&("current"in e?e.current:e);function z(e){const n=(e==null?void 0:e.root)||(e==null?void 0:e.child)||Se(e);return n!=null&&n.nodeType&&typeof(n==null?void 0:n.nodeName)=="string",n}function Te(e){return(e==null?void 0:e.button)===0}function Pe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e!=null&&e.shiftKey)}function Ke(e,n,r,s=!1){return e.addEventListener(n,r,s),{off(){e.removeEventListener(n,r,s)}}}function qe(e,{disabled:n,triggerTarget:r,overlayTarget:s}){const d=t.useCallback(i=>{const u=z(r),a=z(s);u&&ae(u,i.target)||a&&ae(a,i.target)||Pe(i)||!Te(i)||e==null||e(i)},[e,r,s]);t.useEffect(()=>{const i=z(r);if(n||!i)return;const a=Ke(i&&i.ownerDocument||document,"mousedown",d,!0);return()=>{a==null||a.off()}},[r,n,e,d])}function Q(e,n){return Array.isArray(n)?n.indexOf(e)>=0:e===n}const{BOTTOM_START:He}=xe,Re="click",Fe="hover",Le="context",fe=t.forwardRef((e,n)=>{const{title:r,children:s,menuClass:d,menuStyle:i,disabled:u,renderTitle:a,placement:C=He,activeKey:f,toggleClassName:h,trigger:p="click",style:m,onClick:y,onMouseEnter:I,onMouseLeave:w,onContextMenu:c,onSelect:l,onOpen:g,onClose:v,onToggle:x,..._}=e,b=t.useRef(null),R=t.useRef(null),E=te(b),N=E.open,F=$("dropdown-toggle-"),B=$("base-menu-"),M=t.useCallback(P=>{const q=typeof P>"u"?!N:P,G=q?g:v;G==null||G(),x==null||x(q),q?E.openMenu():E.closeMenu()},[v,g,x,N,E]),L=t.useCallback(P=>{P.preventDefault(),!u&&M()},[u,M]),D=t.useCallback(()=>{u||M(!0)},[u,M]),A=t.useCallback(()=>{u||M(!1)},[u,M]),S=(P,q)=>{l==null||l(P,q),M(!1)};qe(()=>M(),{triggerTarget:R,overlayTarget:b,disabled:!N});const K={onMouseEnter:I,onMouseLeave:w},k={onClick:y,onContextMenu:c};Q(Re,p)&&(k.onClick=H(L,k.onClick)),Q(Le,p)&&(k.onContextMenu=H(L,c)),Q(Fe,p)&&(K.onMouseEnter=H(D,I),K.onMouseLeave=H(A,w));const T=o.jsx(me,{..._,...k,ref:R,id:F,className:h,renderTitle:a,disabled:u,placement:C,children:r}),O=o.jsx(oe,{ref:b,className:d,style:i,activeKey:f,hidden:!N,placement:C,id:B,onSelect:S,children:s});return o.jsx(X.Provider,{value:{activeKey:f},children:o.jsxs("div",{...K,ref:n,style:m,className:"dropdown",children:[T,o.jsx(V.Provider,{value:E,children:O})]})})});fe.displayName="Dropdown";const pe=fe;pe.Item=se;pe.Menu=oe;export{pe as D,ee as M,H as c,$ as u};
