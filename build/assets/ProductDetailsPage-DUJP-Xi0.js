import{M as qe,J as Fe,r as h,j as e}from"./index-BnCfoMHD.js";import{u as Ge}from"./useQuery-5MtxfOZF.js";import{u as v}from"./useMutation-BELCJlum.js";import{f as Be,j as Me,k as Qe,l as Te,m as $e,n as ze,o as We}from"./ProductService-BQ89cDEA.js";import"./Alert-D4E-6k3L.js";import"./index-egu2WkrI.js";import{S as V}from"./index-DhA5XCq6.js";import{B as r}from"./Button-D0dNB7EA.js";import{t as d,N as c,D as A}from"./Upload-M3k4SvBs.js";import{C as O}from"./Card-BqTJnQ0J.js";import{C as Y}from"./index-D-LI7_5Q.js";import"./Drawer-Cq4yK1Bv.js";import"./index-CgT_ZDHR.js";import{I as f}from"./hoist-non-react-statics.cjs-kw-40s0n.js";import"./index-pUngdIyx.js";import"./ScrollBar-EjHuuRdS.js";import{D as J}from"./DataTable-DVOpipVd.js";import{E as Ue,A as K,F as E,G as X,x as He,I as _e}from"./index-CYFR1aV4.js";import{M as Ve,a as Ye}from"./index-Cy5GGKn0.js";import{B as Z}from"./index-BGSK8BQs.js";import{C as Je}from"./ClipLoader-CUzwUZxE.js";import"./toString-BDdrKkq0.js";import"./proxy-Bkf0PZo_.js";import"./Views-CznXWnk6.js";import"./CloseButton-BdzNm3ol.js";import"./_getPrototype-BbFq-AiP.js";import"./index-Chjiymov.js";const Ke={AVAILABLE:"text-green-600 bg-transparent  w-fit",ASSIGNED:"text-blue-600 bg-transparent  w-fit",MAINTENANCE:"text-yellow-600 bg-transparent  w-fit",DAMAGED:"text-red-600 bg-transparent  w-fit",RETIRED:"text-gray-600 bg-transparent  w-fit"},ee={NEW:"text-green-600 bg-transparent  w-fit",GOOD:"text-blue-600 bg-transparent  w-fit",FAIR:"text-yellow-600 bg-transparent  w-fit",POOR:"text-orange-600 bg-transparent  w-fit",DAMAGED:"text-red-600 bg-transparent  w-fit"},Xe={ASSIGNED:"text-blue-600 bg-transparent   w-fit",RETURNED:"text-emerald-600 bg-transparent   w-fit",OVERDUE:"text-red-600 bg-transparent  w-fit"},kt=()=>{var L,q,F,G,B,M,Q,T,$,z,W;const{id:N}=qe(),te=Fe(),[se,g]=h.useState(!1),[ae,w]=h.useState(!1),[ne,S]=h.useState(!1),[ie,C]=h.useState(!1),[i,x]=h.useState(null),[p,y]=h.useState([]),[o,P]=h.useState({quantity:1,serialNumbers:[""],purchasePrice:"",location:""}),[b,D]=h.useState(""),{data:j,isLoading:le,error:R,refetch:I}=Ge({queryKey:["product",N],queryFn:()=>ze(Number(N)),enabled:!!N}),{mutate:Ze,isPending:et}=v({mutationFn:async t=>{const s=await We(t);if(!(s!=null&&s.qrCode))throw new Error("Invalid QR code data received from server");return s.qrCode},onSuccess:t=>{je(t)},onError:t=>{d.push(e.jsx(c,{title:"Error",type:"danger",children:t.message||"Failed to generate QR code"}))}}),{mutate:re,isPending:oe}=v({mutationFn:async t=>{var n;const s=await $e(t);if(!((n=s.data)!=null&&n.qrCode))throw new Error("Invalid QR code data received from server");return{qrCode:s.data.qrCode,assignmentInfo:s.data.assignmentInfo}},onSuccess:t=>{ve(t.qrCode,t.assignmentInfo)},onError:t=>{d.push(e.jsx(c,{title:"Error",type:"danger",children:t.message||"Failed to generate assignment QR code"}))}}),{mutate:de,isPending:ce}=v({mutationFn:t=>Be(Number(N),t),onSuccess:t=>{var s;d.push(e.jsx(c,{title:"Success",type:"success",children:((s=t.data)==null?void 0:s.message)||"Stock added successfully"})),I(),g(!1),k()},onError:t=>{var s,n;d.push(e.jsx(c,{title:"Error",type:"danger",children:((n=(s=t.response)==null?void 0:s.data)==null?void 0:n.message)||"Failed to add stock"}))}}),{mutate:me,isPending:he}=v({mutationFn:t=>Me(t.inventoryId,t.updateData),onSuccess:t=>{var s;d.push(e.jsx(c,{title:"Success",type:"success",children:((s=t.data)==null?void 0:s.message)||"Inventory updated successfully"})),I(),w(!1),x(null)},onError:t=>{var s,n;d.push(e.jsx(c,{title:"Error",type:"danger",children:((n=(s=t.response)==null?void 0:s.data)==null?void 0:n.message)||"Failed to update inventory"}))}}),{mutate:xe,isPending:ue}=v({mutationFn:t=>Qe(t),onSuccess:t=>{var s;d.push(e.jsx(c,{title:"Success",type:"success",children:((s=t.data)==null?void 0:s.message)||"Inventory item deleted successfully"})),I(),S(!1),x(null)},onError:t=>{var s,n;d.push(e.jsx(c,{title:"Error",type:"danger",children:((n=(s=t.response)==null?void 0:s.data)==null?void 0:n.message)||"Failed to delete inventory item"}))}}),{mutate:ge,isPending:pe}=v({mutationFn:t=>Te({inventoryIds:t}),onSuccess:t=>{var s;d.push(e.jsx(c,{title:"Success",type:"success",children:((s=t.data)==null?void 0:s.message)||"Selected inventory items deleted successfully"})),I(),C(!1),y([])},onError:t=>{var s,n;d.push(e.jsx(c,{title:"Error",type:"danger",children:((n=(s=t.response)==null?void 0:s.data)==null?void 0:n.message)||"Failed to delete inventory items"}))}}),je=t=>{const s=window.open("","_blank","width=600,height=600");s&&a&&(s.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Product QR Code - ${a.name}</title>
            <style>
              body { 
                font-family: Arial, sans-serif;
                text-align: center;
                padding: 20px;
              }
              .qr-container {
                margin: 20px auto;
                width: 300px;
                height: 300px;
              }
              .product-info {
                margin-bottom: 20px;
              }
              img { width: 100%; height: auto; }
            </style>
          </head>
          <body>
            
            <div class="qr-container">
              <img src="${t}" alt="QR Code" />
            </div>
            
          </body>
        </html>
      `),s.document.close())},ve=(t,s)=>{const n=window.open("","_blank","width=600,height=700");n&&a&&(n.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Assignment QR Code - ${s.productName}</title>
            <style>
              body { 
                font-family: Arial, sans-serif;
                text-align: center;
                padding: 20px;
              }
              .qr-container {
                margin: 20px auto;
                width: 300px;
                height: 300px;
              }
              .assignment-info {
                margin-bottom: 20px;
                text-align: left;
              }
              .info-row {
                margin-bottom: 8px;
              }
              img { width: 100%; height: auto; }
            </style>
          </head>
          <body>
           
            <div class="qr-container">
              <img src="${t}" alt="Assignment QR Code" />
            </div>
          
          </body>
        </html>
      `),n.document.close())},k=()=>{P({quantity:1,serialNumbers:[""],purchasePrice:"",location:""})},ye=()=>{const t={quantity:o.quantity,serialNumbers:o.serialNumbers.filter(s=>s.trim()),purchasePrice:o.purchasePrice?Number(o.purchasePrice):void 0,location:o.location.trim()||void 0,reason:"Manual stock addition"};de(t)},be=t=>{x(t),w(!0)},fe=t=>{x(t),S(!0)},Ne=()=>{if(p.length===0){d.push(e.jsx(c,{title:"Warning",type:"warning",children:"Please select at least one inventory item to delete"}));return}C(!0)},we=()=>{i&&me({inventoryId:i.id,updateData:{status:i.status,condition:i.condition,location:i.location,notes:i.notes,serialNumber:i.serialNumber,reason:"Manual inventory update"}})},Se=()=>{i&&xe(i.id)},Ce=()=>{p.length!==0&&ge(p)},De=t=>{if(a!=null&&a.inventory)if(t){const s=a.inventory.filter(n=>n.status!=="ASSIGNED").map(n=>n.id);y(s)}else y([])},Ie=(t,s)=>{y(s?n=>[...n,t]:n=>n.filter(u=>u!==t))},a=((L=j==null?void 0:j.data)==null?void 0:L.data)||(j==null?void 0:j.data),m=h.useMemo(()=>{if(!(a!=null&&a.inventory)||!b.trim())return(a==null?void 0:a.inventory)||[];const t=b.toLowerCase().trim();return a.inventory.filter(s=>{var U,H,_;const n=((U=s.serialNumber)==null?void 0:U.toLowerCase())||"",u=`item #${s.id}`.toLowerCase(),Ee=s.status.toLowerCase(),Pe=s.condition.toLowerCase(),Oe=((H=s.location)==null?void 0:H.toLowerCase())||"",Re=((_=s.notes)==null?void 0:_.toLowerCase())||"",Le=s.purchaseDate?new Date(s.purchaseDate).toLocaleDateString().toLowerCase():"";return n.includes(t)||u.includes(t)||Ee.includes(t)||Pe.includes(t)||Oe.includes(t)||Re.includes(t)||Le.includes(t)})},[a==null?void 0:a.inventory,b]),l=p.length,ke=[{id:"select",header:()=>e.jsx("div",{className:"flex items-center",children:e.jsx(Y,{checked:l>0&&l===m.filter(t=>t.status!=="ASSIGNED").length,indeterminate:l>0&&l<m.filter(t=>t.status!=="ASSIGNED").length,onChange:De,disabled:m.filter(t=>t.status!=="ASSIGNED").length===0})}),cell:t=>e.jsx(Y,{checked:p.includes(t.row.original.id),onChange:s=>Ie(t.row.original.id,s),disabled:t.row.original.status==="ASSIGNED"}),width:80},{id:"serialNumber",header:"Serial Number",cell:t=>t.row.original.serialNumber||`Item #${t.row.original.id}`},{id:"status",header:"Status",cell:t=>e.jsx("div",{className:Ke[t.row.original.status]||"",children:t.row.original.status})},{id:"condition",header:"Condition",cell:t=>e.jsx("div",{className:ee[t.row.original.condition]||"",children:t.row.original.condition})},{id:"purchaseDate",header:"Purchase Date",cell:t=>t.row.original.purchaseDate?new Date(t.row.original.purchaseDate).toLocaleDateString():"-"},{id:"actions",header:"Actions",cell:t=>e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(r,{size:"xs",icon:e.jsx(He,{}),onClick:()=>be(t.row.original),disabled:t.row.original.status==="ASSIGNED",title:"Edit"}),e.jsx(r,{size:"xs",icon:e.jsx(E,{}),onClick:()=>fe(t.row.original),disabled:t.row.original.status==="ASSIGNED",variant:"solid",color:"red",title:"Delete"})]})}],Ae=[{id:"employee",header:"Employee",cell:t=>{var s,n;return e.jsxs("span",{children:[((s=t.row.original.employee)==null?void 0:s.name)||"Unknown",((n=t.row.original.employee)==null?void 0:n.empId)&&` (${t.row.original.employee.empId})`]})}},{id:"inventoryItem",header:"Inventory Item",cell:t=>{var s,n;return e.jsx("span",{children:((s=t.row.original.inventory)==null?void 0:s.serialNumber)||`Item #${((n=t.row.original.inventory)==null?void 0:n.id)||"N/A"}`})}},{id:"assignedOn",header:"Assigned On",cell:t=>new Date(t.row.original.assignedAt).toLocaleDateString()},{id:"expectedReturn",header:"Expected Return",cell:t=>t.row.original.expectedReturnAt?new Date(t.row.original.expectedReturnAt).toLocaleDateString():"-"},{id:"returnedOn",header:"Returned On",cell:t=>t.row.original.returnedAt?new Date(t.row.original.returnedAt).toLocaleDateString():"-"},{id:"assignmentStatus",header:"Status",cell:t=>e.jsx("div",{className:Xe[t.row.original.status]||"",children:t.row.original.status})},{id:"returnCondition",header:"Return Condition",cell:t=>t.row.original.returnCondition?e.jsx("div",{className:ee[t.row.original.returnCondition]||"",children:t.row.original.returnCondition}):e.jsx("span",{children:"-"})},{id:"assignedBy",header:"Assigned By",cell:t=>{var s;return((s=t.row.original.assignedBy)==null?void 0:s.username)||"Unknown"}},{id:"assignmentActions",header:"Actions",cell:t=>e.jsx(r,{size:"xs",icon:e.jsx(_e,{}),onClick:()=>re(t.row.original.id),loading:oe,title:"Generate QR Code"})}];return R&&d.push(e.jsx(c,{title:"Error",type:"danger",children:R.message||"Failed to load product details"})),le?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx(Je,{color:"#3B82F6",size:40})}):a?e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx(r,{variant:"plain",icon:e.jsx(Ue,{}),onClick:()=>te(-1),children:"Back to Products"}),e.jsx("div",{className:"flex gap-2",children:e.jsx(r,{variant:"twoTone",icon:e.jsx(K,{}),onClick:()=>g(!0),children:"Add Stock"})})]}),e.jsx(O,{className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:a.name}),e.jsx("p",{className:"text-gray-600 mb-4",children:a.model}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Category:"}),e.jsx("span",{className:"ml-2",children:((q=a.category)==null?void 0:q.name)||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Branch:"}),e.jsx("span",{className:"ml-2",children:((F=a.branch)==null?void 0:F.name)||"-"})]}),a.department&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Department:"}),e.jsx("span",{className:"ml-2",children:a.department.name})]}),a.warrantyDuration&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Warranty Duration:"}),e.jsxs("span",{className:"ml-2",children:[a.warrantyDuration," months"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Minimum Stock Level:"}),e.jsx("span",{className:"ml-2",children:a.minStockLevel})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Created:"}),e.jsx("span",{className:"ml-2",children:new Date(a.createdAt).toLocaleDateString()})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-4 mb-4",children:e.jsx("div",{className:a.complianceStatus?"font-bold text-green-500":"font-bold text-red-500",children:a.complianceStatus?"Compliant":"Non-compliant"})}),e.jsxs("div",{className:" p-4 rounded-lg mb-4",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Stock Overview"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total Stock:"}),e.jsx("span",{className:"ml-2 font-semibold",children:((G=a.stockStats)==null?void 0:G.totalStock)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Available:"}),e.jsx("span",{className:"ml-2 font-semibold text-green-600",children:((B=a.stockStats)==null?void 0:B.availableStock)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Assigned:"}),e.jsx("span",{className:"ml-2 font-semibold text-blue-600",children:((M=a.stockStats)==null?void 0:M.assignedStock)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Damaged:"}),e.jsx("span",{className:"ml-2 font-semibold text-red-600",children:((Q=a.stockStats)==null?void 0:Q.damagedStock)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Maintenance:"}),e.jsx("span",{className:"ml-2 font-semibold text-yellow-600",children:((T=a.stockStats)==null?void 0:T.maintenanceStock)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Retired:"}),e.jsx("span",{className:"ml-2 font-semibold text-gray-600",children:(($=a.stockStats)==null?void 0:$.retiredStock)||0})]})]})]}),e.jsxs("div",{className:" p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:a.description||"No description available"})]})]})]})}),e.jsxs(O,{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{}),e.jsx("h3",{className:"text-xl font-semibold",children:"Inventory Items"}),l>0&&e.jsxs("span",{className:"text-sm text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[l," item",l!==1?"s":""," selected"]})]}),e.jsx("div",{className:"flex gap-",children:l>0&&e.jsxs(r,{variant:"solid",color:"red",icon:e.jsx(E,{}),onClick:Ne,disabled:l===0,children:["Delete Selected (",l,")"]})})]}),e.jsx("div",{className:"mb-4 max-w-md",children:e.jsx(f,{placeholder:"Search inventory items...",value:b,onChange:t=>D(t.target.value),prefix:e.jsx(X,{className:"text-gray-400"}),clearButton:!0,onClear:()=>D("")})}),b.trim()&&e.jsxs("div",{className:"mb-3 text-sm text-gray-600",children:["Showing ",m.length," of ",((z=a.inventory)==null?void 0:z.length)||0," items",m.length!==(((W=a.inventory)==null?void 0:W.length)||0)&&e.jsx(r,{variant:"plain",size:"xs",className:"ml-2",onClick:()=>D(""),children:"Clear search"})]}),!a.inventory||a.inventory.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Z,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No inventory items found for this product"}),e.jsx(r,{className:"mt-4",variant:"solid",icon:e.jsx(K,{}),onClick:()=>g(!0),children:"Add First Stock"})]}):m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(X,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No inventory items match your search"}),e.jsx(r,{className:"mt-4",variant:"plain",onClick:()=>D(""),children:"Clear search"})]}):e.jsx(J,{columns:ke,data:m,pagingData:{total:m.length,pageIndex:1,pageSize:m.length}})]}),e.jsxs(O,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ye,{}),e.jsx("h3",{className:"text-xl font-semibold",children:"Assignment History"})]}),!a.assignments||a.assignments.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No assignments found for this product"})}):e.jsx(J,{columns:Ae,data:a.assignments,pagingData:{total:a.assignments.length,pageIndex:1,pageSize:a.assignments.length}})]}),e.jsx(A,{isOpen:se,onClose:()=>{g(!1),k()},onRequestClose:()=>{g(!1),k()},width:500,children:e.jsxs("div",{className:"max-h-[80vh] flex flex-col",children:[e.jsx("h4",{className:"mb-4 flex-shrink-0",children:"Add Stock"}),e.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product"}),e.jsx("p",{className:"font-semibold",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),e.jsx(f,{type:"number",min:"1",max:"100",value:o.quantity,onChange:t=>{const s=Number(t.target.value);P({...o,quantity:s,serialNumbers:Array.from({length:s},(n,u)=>o.serialNumbers[u]||"")})}})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Serial Numbers (Optional - ",o.serialNumbers.filter(t=>t.trim()).length," of ",o.quantity," filled)"]}),o.quantity>10&&e.jsx("div",{className:"border border-yellow-200 rounded p-2 mb-2",children:e.jsx("p",{className:"text-sm text-yellow-700",children:"Large quantity detected. Consider using batch serial number format or leave empty for auto-generation."})}),e.jsx("div",{className:"max-h-60 overflow-y-auto border rounded p-3 ",style:{scrollbarWidth:"thin",scrollbarColor:"#cbd5e1 #f1f5f9"},children:e.jsx("div",{className:"space-y-2",children:Array.from({length:o.quantity},(t,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-500 w-8 flex-shrink-0",children:["#",s+1]}),e.jsx(f,{type:"text",placeholder:`Serial number ${s+1}`,value:o.serialNumbers[s]||"",onChange:n=>{const u=[...o.serialNumbers];u[s]=n.target.value,P({...o,serialNumbers:u})},className:"flex-1",size:"sm"})]},s))})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Leave empty for non-serialized items. Scroll within the box above for many items."})]})]})}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t flex-shrink-0",children:[e.jsx(r,{variant:"plain",onClick:()=>{g(!1),k()},children:"Cancel"}),e.jsx(r,{variant:"solid",onClick:ye,loading:ce,icon:e.jsx(Z,{}),children:"Add Stock"})]})]})}),e.jsxs(A,{isOpen:ae,onClose:()=>w(!1),width:400,children:[e.jsx("h4",{className:"mb-4",children:"Edit Inventory Item"}),i&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Serial Number"}),e.jsx(f,{type:"text",value:i.serialNumber||"",onChange:t=>x({...i,serialNumber:t.target.value||null}),placeholder:"Enter serial number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),e.jsx(V,{value:{value:i.status,label:i.status},options:[{value:"AVAILABLE",label:"Available"},{value:"MAINTENANCE",label:"Maintenance"},{value:"DAMAGED",label:"Damaged"},{value:"RETIRED",label:"Retired"}],onChange:t=>x({...i,status:t.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Condition"}),e.jsx(V,{value:{value:i.condition,label:i.condition},options:[{value:"NEW",label:"New"},{value:"GOOD",label:"Good"},{value:"FAIR",label:"Fair"},{value:"POOR",label:"Poor"},{value:"DAMAGED",label:"Damaged"}],onChange:t=>x({...i,condition:t.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),e.jsx(f,{as:"textarea",value:i.notes||"",onChange:t=>x({...i,notes:t.target.value}),placeholder:"Additional notes",rows:3})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(r,{variant:"plain",onClick:()=>w(!1),children:"Cancel"}),e.jsx(r,{variant:"solid",onClick:we,loading:he,children:"Update"})]})]})]}),e.jsxs(A,{isOpen:ne,onClose:()=>S(!1),width:400,children:[e.jsx("h4",{className:"mb-4",children:"Delete Inventory Item"}),i&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"Are you sure you want to delete this inventory item?"}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"font-medium",children:i.serialNumber||`Item #${i.id}`}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",i.status," | Condition: ",i.condition]})]}),e.jsx("p",{className:"text-sm text-red-500",children:"Warning: This action cannot be undone. Any assignment history associated with this item will be preserved."}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(r,{variant:"plain",onClick:()=>S(!1),children:"Cancel"}),e.jsx(r,{variant:"solid",color:"red",onClick:Se,loading:ue,icon:e.jsx(E,{}),children:"Delete"})]})]})]}),e.jsxs(A,{isOpen:ie,onClose:()=>C(!1),width:500,children:[e.jsx("h4",{className:"mb-4",children:"Delete Selected Inventory Items"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to delete ",l," selected inventory item",l!==1?"s":"","?"]}),l>0&&e.jsxs("div",{className:"bg-gray-50 p-3 rounded max-h-40 overflow-y-auto",children:[e.jsx("p",{className:"font-medium mb-2",children:"Selected Items:"}),e.jsxs("ul",{className:"text-sm text-gray-500 list-disc list-inside",children:[m.filter(t=>p.includes(t.id)).slice(0,10).map(t=>e.jsxs("li",{children:[t.serialNumber||`Item #${t.id}`," (",t.status,")"]},t.id)),l>10&&e.jsxs("li",{children:["...and ",l-10," more"]})]})]}),e.jsx("p",{className:"text-sm text-red-500",children:"Warning: This action cannot be undone. Any assignment history associated with these items will be preserved."}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(r,{variant:"plain",onClick:()=>C(!1),children:"Cancel"}),e.jsxs(r,{variant:"solid",color:"red",onClick:Ce,loading:pe,icon:e.jsx(E,{}),children:["Delete ",l," Item",l!==1?"s":""]})]})]})]})]}):e.jsx("div",{className:"p-4 text-center",children:"Product not found"})};export{kt as default};
