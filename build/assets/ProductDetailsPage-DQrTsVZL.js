import{M as Ge,J as Re,r as h,j as e}from"./index-raIB5kr7.js";import{u as Fe}from"./useQuery-BimGM40F.js";import{u as v}from"./useMutation-CVof13mL.js";import{g as Me,k as Qe,l as Be,m as Te,n as $e,o as ze,p as We}from"./ProductService-BdWVaAcP.js";import"./Alert-mfcoSqqP.js";import"./index-DV_E7KAf.js";import{S as J}from"./index-iyOQ0Qo2.js";import{B as l}from"./Button-93EWxRqP.js";import{t as d,N as c,D as A}from"./Upload-DSzpuZCv.js";import{C as O}from"./Card-3F_r41t5.js";import{C as Y}from"./index-BKNK5kOs.js";import"./index-BtQogmgw.js";import{I as f}from"./hoist-non-react-statics.cjs-B1VVJCv9.js";import"./index-BzxDl7Rk.js";import"./Progress-CjK2z3SZ.js";import"./ScrollBar-yL4Snvlg.js";import{D as K}from"./DataTable-j9hyLV9K.js";import{G as He,A as X,C as E,I as Z,x as Ue,w as Ve,J as _e}from"./index-YT-1x9V6.js";import{M as Je,a as Ye}from"./index-DLWYlJg8.js";import{B as ee}from"./index-DRrr66wc.js";import{C as Ke}from"./ClipLoader-DD4fPWNo.js";import"./toString-BfPUnzgJ.js";import"./Views-CqvteLF_.js";import"./CloseButton-C3OzjHaP.js";import"./_getPrototype-Bc5S2B2d.js";import"./index-Chjiymov.js";const Xe={AVAILABLE:"text-green-600 bg-transparent  w-fit",ASSIGNED:"text-blue-600 bg-transparent  w-fit",MAINTENANCE:"text-yellow-600 bg-transparent  w-fit",DAMAGED:"text-red-600 bg-transparent  w-fit",RETIRED:"text-gray-600 bg-transparent  w-fit"},se={NEW:"text-green-600 bg-transparent  w-fit",GOOD:"text-blue-600 bg-transparent  w-fit",FAIR:"text-yellow-600 bg-transparent  w-fit",POOR:"text-orange-600 bg-transparent  w-fit",DAMAGED:"text-red-600 bg-transparent  w-fit"},Ze={ASSIGNED:"text-blue-600 bg-transparent   w-fit",RETURNED:"text-emerald-600 bg-transparent   w-fit",OVERDUE:"text-red-600 bg-transparent  w-fit"},ks=()=>{var G,R,F,M,Q,B,T,$,z,W,H;const{id:N}=Ge(),L=Re(),[te,g]=h.useState(!1),[ae,w]=h.useState(!1),[ne,S]=h.useState(!1),[ie,C]=h.useState(!1),[i,x]=h.useState(null),[p,y]=h.useState([]),[o,P]=h.useState({quantity:1,serialNumbers:[""],purchasePrice:"",location:""}),[b,D]=h.useState(""),{data:j,isLoading:le,error:q,refetch:I}=Fe({queryKey:["product",N],queryFn:()=>ze(Number(N)),enabled:!!N}),{mutate:es,isPending:ss}=v({mutationFn:async s=>{const t=await We(s);if(!(t!=null&&t.qrCode))throw new Error("Invalid QR code data received from server");return t.qrCode},onSuccess:s=>{je(s)},onError:s=>{d.push(e.jsx(c,{title:"Error",type:"danger",children:s.message||"Failed to generate QR code"}))}}),{mutate:re,isPending:oe}=v({mutationFn:async s=>{var n;const t=await $e(s);if(!((n=t.data)!=null&&n.qrCode))throw new Error("Invalid QR code data received from server");return{qrCode:t.data.qrCode,assignmentInfo:t.data.assignmentInfo}},onSuccess:s=>{ve(s.qrCode,s.assignmentInfo)},onError:s=>{d.push(e.jsx(c,{title:"Error",type:"danger",children:s.message||"Failed to generate assignment QR code"}))}}),{mutate:de,isPending:ce}=v({mutationFn:s=>Me(Number(N),s),onSuccess:s=>{var t;d.push(e.jsx(c,{title:"Success",type:"success",children:((t=s.data)==null?void 0:t.message)||"Stock added successfully"})),I(),g(!1),k()},onError:s=>{var t,n;d.push(e.jsx(c,{title:"Error",type:"danger",children:((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to add stock"}))}}),{mutate:me,isPending:he}=v({mutationFn:s=>Qe(s.inventoryId,s.updateData),onSuccess:s=>{var t;d.push(e.jsx(c,{title:"Success",type:"success",children:((t=s.data)==null?void 0:t.message)||"Inventory updated successfully"})),I(),w(!1),x(null)},onError:s=>{var t,n;d.push(e.jsx(c,{title:"Error",type:"danger",children:((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to update inventory"}))}}),{mutate:xe,isPending:ue}=v({mutationFn:s=>Be(s),onSuccess:s=>{var t;d.push(e.jsx(c,{title:"Success",type:"success",children:((t=s.data)==null?void 0:t.message)||"Inventory item deleted successfully"})),I(),S(!1),x(null)},onError:s=>{var t,n;d.push(e.jsx(c,{title:"Error",type:"danger",children:((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to delete inventory item"}))}}),{mutate:ge,isPending:pe}=v({mutationFn:s=>Te({inventoryIds:s}),onSuccess:s=>{var t;d.push(e.jsx(c,{title:"Success",type:"success",children:((t=s.data)==null?void 0:t.message)||"Selected inventory items deleted successfully"})),I(),C(!1),y([])},onError:s=>{var t,n;d.push(e.jsx(c,{title:"Error",type:"danger",children:((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to delete inventory items"}))}}),je=s=>{const t=window.open("","_blank","width=600,height=600");t&&a&&(t.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Product QR Code - ${a.name}</title>
            <style>
              body { 
                font-family: Arial, sans-serif;
                text-align: center;
                padding: 20px;
              }
              .qr-container {
                margin: 20px auto;
                width: 300px;
                height: 300px;
              }
              .product-info {
                margin-bottom: 20px;
              }
              img { width: 100%; height: auto; }
            </style>
          </head>
          <body>
            
            <div class="qr-container">
              <img src="${s}" alt="QR Code" />
            </div>
            
          </body>
        </html>
      `),t.document.close())},ve=(s,t)=>{const n=window.open("","_blank","width=600,height=700");n&&a&&(n.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Assignment QR Code - ${t.productName}</title>
            <style>
              body { 
                font-family: Arial, sans-serif;
                text-align: center;
                padding: 20px;
              }
              .qr-container {
                margin: 20px auto;
                width: 300px;
                height: 300px;
              }
              .assignment-info {
                margin-bottom: 20px;
                text-align: left;
              }
              .info-row {
                margin-bottom: 8px;
              }
              img { width: 100%; height: auto; }
            </style>
          </head>
          <body>
           
            <div class="qr-container">
              <img src="${s}" alt="Assignment QR Code" />
            </div>
          
          </body>
        </html>
      `),n.document.close())},k=()=>{P({quantity:1,serialNumbers:[""],purchasePrice:"",location:""})},ye=()=>{const s={quantity:o.quantity,serialNumbers:o.serialNumbers.filter(t=>t.trim()),purchasePrice:o.purchasePrice?Number(o.purchasePrice):void 0,location:o.location.trim()||void 0,reason:"Manual stock addition"};de(s)},be=s=>{x(s),w(!0)},fe=s=>{x(s),S(!0)},Ne=()=>{if(p.length===0){d.push(e.jsx(c,{title:"Warning",type:"warning",children:"Please select at least one inventory item to delete"}));return}C(!0)},we=()=>{i&&me({inventoryId:i.id,updateData:{status:i.status,condition:i.condition,location:i.location,notes:i.notes,serialNumber:i.serialNumber,reason:"Manual inventory update"}})},Se=()=>{i&&xe(i.id)},Ce=()=>{p.length!==0&&ge(p)},De=s=>{if(a!=null&&a.inventory)if(s){const t=a.inventory.filter(n=>n.status!=="ASSIGNED").map(n=>n.id);y(t)}else y([])},Ie=(s,t)=>{y(t?n=>[...n,s]:n=>n.filter(u=>u!==s))},a=((G=j==null?void 0:j.data)==null?void 0:G.data)||(j==null?void 0:j.data),m=h.useMemo(()=>{if(!(a!=null&&a.inventory)||!b.trim())return(a==null?void 0:a.inventory)||[];const s=b.toLowerCase().trim();return a.inventory.filter(t=>{var U,V,_;const n=((U=t.serialNumber)==null?void 0:U.toLowerCase())||"",u=`item #${t.id}`.toLowerCase(),Ee=t.status.toLowerCase(),Pe=t.condition.toLowerCase(),Oe=((V=t.location)==null?void 0:V.toLowerCase())||"",Le=((_=t.notes)==null?void 0:_.toLowerCase())||"",qe=t.purchaseDate?new Date(t.purchaseDate).toLocaleDateString().toLowerCase():"";return n.includes(s)||u.includes(s)||Ee.includes(s)||Pe.includes(s)||Oe.includes(s)||Le.includes(s)||qe.includes(s)})},[a==null?void 0:a.inventory,b]),r=p.length,ke=[{id:"select",header:()=>e.jsx("div",{className:"flex items-center",children:e.jsx(Y,{checked:r>0&&r===m.filter(s=>s.status!=="ASSIGNED").length,indeterminate:r>0&&r<m.filter(s=>s.status!=="ASSIGNED").length,onChange:De,disabled:m.filter(s=>s.status!=="ASSIGNED").length===0})}),cell:s=>e.jsx(Y,{checked:p.includes(s.row.original.id),onChange:t=>Ie(s.row.original.id,t),disabled:s.row.original.status==="ASSIGNED"}),width:80},{id:"serialNumber",header:"Serial Number",cell:s=>s.row.original.serialNumber||`Item #${s.row.original.id}`},{id:"status",header:"Status",cell:s=>e.jsx("div",{className:Xe[s.row.original.status]||"",children:s.row.original.status})},{id:"condition",header:"Condition",cell:s=>e.jsx("div",{className:se[s.row.original.condition]||"",children:s.row.original.condition})},{id:"purchaseDate",header:"Purchase Date",cell:s=>s.row.original.purchaseDate?new Date(s.row.original.purchaseDate).toLocaleDateString():"-"},{id:"actions",header:"Actions",cell:s=>e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(l,{size:"xs",icon:e.jsx(Ue,{}),onClick:()=>be(s.row.original),disabled:s.row.original.status==="ASSIGNED",title:"Edit"}),e.jsx(l,{size:"xs",icon:e.jsx(E,{}),onClick:()=>fe(s.row.original),disabled:s.row.original.status==="ASSIGNED",variant:"solid",color:"red",title:"Delete"})]})}],Ae=[{id:"employee",header:"Employee",cell:s=>{var t,n;return e.jsxs("span",{children:[((t=s.row.original.employee)==null?void 0:t.name)||"Unknown",((n=s.row.original.employee)==null?void 0:n.empId)&&` (${s.row.original.employee.empId})`]})}},{id:"inventoryItem",header:"Inventory Item",cell:s=>{var t,n;return e.jsx("span",{children:((t=s.row.original.inventory)==null?void 0:t.serialNumber)||`Item #${((n=s.row.original.inventory)==null?void 0:n.id)||"N/A"}`})}},{id:"assignedOn",header:"Assigned On",cell:s=>new Date(s.row.original.assignedAt).toLocaleDateString()},{id:"pcName",header:"PC Name",cell:s=>s.row.original.pcName},{id:"returnedOn",header:"Returned On",cell:s=>s.row.original.returnedAt?new Date(s.row.original.returnedAt).toLocaleDateString():"-"},{id:"assignmentStatus",header:"Status",cell:s=>e.jsx("div",{className:Ze[s.row.original.status]||"",children:s.row.original.status})},{id:"returnCondition",header:"Return Condition",cell:s=>s.row.original.returnCondition?e.jsx("div",{className:se[s.row.original.returnCondition]||"",children:s.row.original.returnCondition}):e.jsx("span",{children:"-"})},{id:"assignmentActions",header:"Actions",cell:s=>e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(l,{size:"xs",icon:e.jsx(Ve,{}),onClick:()=>L(`/assignments/${s.row.original.id}`),title:"View Details"}),e.jsx(l,{size:"xs",icon:e.jsx(_e,{}),onClick:()=>re(s.row.original.id),loading:oe,title:"Generate QR Code"})]})}];return q&&d.push(e.jsx(c,{title:"Error",type:"danger",children:q.message||"Failed to load product details"})),le?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx(Ke,{color:"#3B82F6",size:40})}):a?e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx(l,{variant:"plain",icon:e.jsx(He,{}),onClick:()=>L(-1),children:"Back to Products"}),e.jsx("div",{className:"flex gap-2",children:e.jsx(l,{variant:"twoTone",icon:e.jsx(X,{}),onClick:()=>g(!0),children:"Add Stock"})})]}),e.jsx(O,{className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:a.name}),e.jsx("p",{className:"text-gray-600 mb-4",children:a.model}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Category:"}),e.jsx("span",{className:"ml-2",children:((R=a.category)==null?void 0:R.name)||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Branch:"}),e.jsx("span",{className:"ml-2",children:((F=a.branch)==null?void 0:F.name)||"-"})]}),a.department&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Department:"}),e.jsx("span",{className:"ml-2",children:a.department.name})]}),a.warrantyDuration&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Warranty Duration:"}),e.jsxs("span",{className:"ml-2",children:[a.warrantyDuration," months"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Minimum Stock Level:"}),e.jsx("span",{className:"ml-2",children:a.minStockLevel})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Created:"}),e.jsx("span",{className:"ml-2",children:new Date(a.createdAt).toLocaleDateString()})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-4 mb-4",children:e.jsx("div",{className:a.complianceStatus?"font-bold text-green-500":"font-bold text-red-500",children:a.complianceStatus?"Compliant":"Non-compliant"})}),e.jsxs("div",{className:" p-4 rounded-lg mb-4",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Stock Overview"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total Stock:"}),e.jsx("span",{className:"ml-2 font-semibold",children:((M=a.stockStats)==null?void 0:M.totalStock)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Available:"}),e.jsx("span",{className:"ml-2 font-semibold text-green-600",children:((Q=a.stockStats)==null?void 0:Q.availableStock)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Assigned:"}),e.jsx("span",{className:"ml-2 font-semibold text-blue-600",children:((B=a.stockStats)==null?void 0:B.assignedStock)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Damaged:"}),e.jsx("span",{className:"ml-2 font-semibold text-red-600",children:((T=a.stockStats)==null?void 0:T.damagedStock)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Maintenance:"}),e.jsx("span",{className:"ml-2 font-semibold text-yellow-600",children:(($=a.stockStats)==null?void 0:$.maintenanceStock)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Retired:"}),e.jsx("span",{className:"ml-2 font-semibold text-gray-600",children:((z=a.stockStats)==null?void 0:z.retiredStock)||0})]})]})]}),e.jsxs("div",{className:" p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:a.description||"No description available"})]})]})]})}),e.jsxs(O,{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{}),e.jsx("h3",{className:"text-xl font-semibold",children:"Inventory Items"}),r>0&&e.jsxs("span",{className:"text-sm text-blue-600 bg-blue-100 px-2 py-1 rounded",children:[r," item",r!==1?"s":""," selected"]})]}),e.jsx("div",{className:"flex gap-",children:r>0&&e.jsxs(l,{variant:"solid",color:"red",icon:e.jsx(E,{}),onClick:Ne,disabled:r===0,children:["Delete Selected (",r,")"]})})]}),e.jsx("div",{className:"mb-4 max-w-md",children:e.jsx(f,{placeholder:"Search inventory items...",value:b,onChange:s=>D(s.target.value),prefix:e.jsx(Z,{className:"text-gray-400"}),clearButton:!0,onClear:()=>D("")})}),b.trim()&&e.jsxs("div",{className:"mb-3 text-sm text-gray-600",children:["Showing ",m.length," of ",((W=a.inventory)==null?void 0:W.length)||0," items",m.length!==(((H=a.inventory)==null?void 0:H.length)||0)&&e.jsx(l,{variant:"plain",size:"xs",className:"ml-2",onClick:()=>D(""),children:"Clear search"})]}),!a.inventory||a.inventory.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ee,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No inventory items found for this product"}),e.jsx(l,{className:"mt-4",variant:"solid",icon:e.jsx(X,{}),onClick:()=>g(!0),children:"Add First Stock"})]}):m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Z,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No inventory items match your search"}),e.jsx(l,{className:"mt-4",variant:"plain",onClick:()=>D(""),children:"Clear search"})]}):e.jsx(K,{columns:ke,data:m,pagingData:{total:m.length,pageIndex:1,pageSize:m.length}})]}),e.jsxs(O,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ye,{}),e.jsx("h3",{className:"text-xl font-semibold",children:"Assignment History"})]}),!a.assignments||a.assignments.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No assignments found for this product"})}):e.jsx(K,{columns:Ae,data:a.assignments,pagingData:{total:a.assignments.length,pageIndex:1,pageSize:a.assignments.length}})]}),e.jsx(A,{isOpen:te,onClose:()=>{g(!1),k()},onRequestClose:()=>{g(!1),k()},width:500,children:e.jsxs("div",{className:"max-h-[80vh] flex flex-col",children:[e.jsx("h4",{className:"mb-4 flex-shrink-0",children:"Add Stock"}),e.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product"}),e.jsx("p",{className:"font-semibold",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),e.jsx(f,{type:"number",min:"1",max:"100",value:o.quantity,onChange:s=>{const t=Number(s.target.value);P({...o,quantity:t,serialNumbers:Array.from({length:t},(n,u)=>o.serialNumbers[u]||"")})}})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Serial Numbers (Optional - ",o.serialNumbers.filter(s=>s.trim()).length," of ",o.quantity," filled)"]}),o.quantity>10&&e.jsx("div",{className:"border border-yellow-200 rounded p-2 mb-2",children:e.jsx("p",{className:"text-sm text-yellow-700",children:"Large quantity detected. Consider using batch serial number format or leave empty for auto-generation."})}),e.jsx("div",{className:"max-h-60 overflow-y-auto border rounded p-3 ",style:{scrollbarWidth:"thin",scrollbarColor:"#cbd5e1 #f1f5f9"},children:e.jsx("div",{className:"space-y-2",children:Array.from({length:o.quantity},(s,t)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-500 w-8 flex-shrink-0",children:["#",t+1]}),e.jsx(f,{type:"text",placeholder:`Serial number ${t+1}`,value:o.serialNumbers[t]||"",onChange:n=>{const u=[...o.serialNumbers];u[t]=n.target.value,P({...o,serialNumbers:u})},className:"flex-1",size:"sm"})]},t))})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Leave empty for non-serialized items. Scroll within the box above for many items."})]})]})}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t flex-shrink-0",children:[e.jsx(l,{variant:"plain",onClick:()=>{g(!1),k()},children:"Cancel"}),e.jsx(l,{variant:"solid",onClick:ye,loading:ce,icon:e.jsx(ee,{}),children:"Add Stock"})]})]})}),e.jsxs(A,{isOpen:ae,onClose:()=>w(!1),width:400,children:[e.jsx("h4",{className:"mb-4",children:"Edit Inventory Item"}),i&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Serial Number"}),e.jsx(f,{type:"text",value:i.serialNumber||"",onChange:s=>x({...i,serialNumber:s.target.value||null}),placeholder:"Enter serial number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),e.jsx(J,{value:{value:i.status,label:i.status},options:[{value:"AVAILABLE",label:"Available"},{value:"MAINTENANCE",label:"Maintenance"},{value:"DAMAGED",label:"Damaged"},{value:"RETIRED",label:"Retired"}],onChange:s=>x({...i,status:s.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Condition"}),e.jsx(J,{value:{value:i.condition,label:i.condition},options:[{value:"NEW",label:"New"},{value:"GOOD",label:"Good"},{value:"FAIR",label:"Fair"},{value:"POOR",label:"Poor"},{value:"DAMAGED",label:"Damaged"}],onChange:s=>x({...i,condition:s.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),e.jsx(f,{as:"textarea",value:i.notes||"",onChange:s=>x({...i,notes:s.target.value}),placeholder:"Additional notes",rows:3})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(l,{variant:"plain",onClick:()=>w(!1),children:"Cancel"}),e.jsx(l,{variant:"solid",onClick:we,loading:he,children:"Update"})]})]})]}),e.jsxs(A,{isOpen:ne,onClose:()=>S(!1),width:400,children:[e.jsx("h4",{className:"mb-4",children:"Delete Inventory Item"}),i&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"Are you sure you want to delete this inventory item?"}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"font-medium",children:i.serialNumber||`Item #${i.id}`}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",i.status," | Condition: ",i.condition]})]}),e.jsx("p",{className:"text-sm text-red-500",children:"Warning: This action cannot be undone. Any assignment history associated with this item will be preserved."}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(l,{variant:"plain",onClick:()=>S(!1),children:"Cancel"}),e.jsx(l,{variant:"solid",color:"red",onClick:Se,loading:ue,icon:e.jsx(E,{}),children:"Delete"})]})]})]}),e.jsxs(A,{isOpen:ie,onClose:()=>C(!1),width:500,children:[e.jsx("h4",{className:"mb-4",children:"Delete Selected Inventory Items"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to delete ",r," selected inventory item",r!==1?"s":"","?"]}),r>0&&e.jsxs("div",{className:"bg-gray-50 p-3 rounded max-h-40 overflow-y-auto",children:[e.jsx("p",{className:"font-medium mb-2",children:"Selected Items:"}),e.jsxs("ul",{className:"text-sm text-gray-500 list-disc list-inside",children:[m.filter(s=>p.includes(s.id)).slice(0,10).map(s=>e.jsxs("li",{children:[s.serialNumber||`Item #${s.id}`," (",s.status,")"]},s.id)),r>10&&e.jsxs("li",{children:["...and ",r-10," more"]})]})]}),e.jsx("p",{className:"text-sm text-red-500",children:"Warning: This action cannot be undone. Any assignment history associated with these items will be preserved."}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(l,{variant:"plain",onClick:()=>C(!1),children:"Cancel"}),e.jsxs(l,{variant:"solid",color:"red",onClick:Ce,loading:pe,icon:e.jsx(E,{}),children:["Delete ",r," Item",r!==1?"s":""]})]})]})]})]}):e.jsx("div",{className:"p-4 text-center",children:"Product not found"})};export{ks as default};
