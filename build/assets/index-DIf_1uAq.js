import{r as u,j as e,av as j}from"./index-Dt7dR0Kg.js";import{A as f,F as g,a as F}from"./Alert-Cea_Z81E.js";import{I as v}from"./hoist-non-react-statics.cjs-OkDiBAWr.js";import{B as y}from"./Button-Brtlzr7T.js";import{u as b,A as S}from"./useTimeOutMessage-BDVhfEML.js";import{F as w,c as N,a as E,b as P,d as k}from"./index.esm-BKx30x6q.js";import"./toString-DenH1GDR.js";import"./proxy-D03qd06F.js";import"./Views-CvwUb4li.js";import"./index-CKzkT0Bg.js";import"./CloseButton-B1m4okyZ.js";import"./useThemeClass-DK3-PSoE.js";import"./cloneDeep-DJN0yfLA.js";const I=N().shape({email:k().required("Please enter your email")}),A=l=>{const{disableSubmit:m=!1,className:c,signInUrl:d="/sign-in"}=l,[t,p]=u.useState(!1),[o,h]=b(),x=async(a,s)=>{var i,n;s(!0);try{(await j(a)).data&&(s(!1),p(!0))}catch(r){h(((n=(i=r==null?void 0:r.response)==null?void 0:i.data)==null?void 0:n.message)||r.toString()),s(!1)}};return e.jsxs("div",{className:c,children:[e.jsx("div",{className:"mb-6",children:t?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-1",children:"Check your email"}),e.jsx("p",{children:"We have sent a password recovery instruction to your email"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-1",children:"Forgot Password"}),e.jsx("p",{children:"Please enter your email address to receive a verification code"})]})}),o&&e.jsx(f,{showIcon:!0,className:"mb-4",type:"danger",children:o}),e.jsx(w,{initialValues:{email:"admin@mail.com"},validationSchema:I,onSubmit:(a,{setSubmitting:s})=>{m?s(!1):x(a,s)},children:({touched:a,errors:s,isSubmitting:i})=>e.jsx(E,{children:e.jsxs(g,{children:[e.jsx("div",{className:t?"hidden":"",children:e.jsx(F,{invalid:s.email&&a.email,errorMessage:s.email,children:e.jsx(P,{type:"email",autoComplete:"off",name:"email",placeholder:"Email",component:v})})}),e.jsx(y,{block:!0,loading:i,variant:"solid",type:"submit",children:t?"Resend Email":"Send Email"}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("span",{children:"Back to "}),e.jsx(S,{to:d,children:"Sign in"})]})]})})})]})},D=()=>e.jsx(A,{disableSubmit:!1});export{D as default};
