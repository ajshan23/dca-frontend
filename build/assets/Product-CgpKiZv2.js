import{M as x,J as g,j as e}from"./index-BzHZzxX0.js";import{u as h}from"./useQuery-CY7cJG4M.js";import{o as j}from"./ProductService-CePMFLAp.js";import"./Alert-lec3Bq8o.js";import"./index-ClV6Y1xO.js";import{B as o}from"./index-B6q6Ul9Z.js";import"./Button-B_bo9BV3.js";import{t as u,N}from"./Upload-BvyCkGyN.js";import{C as b}from"./Card-CMjPz5hL.js";import"./index-VZ3FPubS.js";import"./index-AlTq7Jqu.js";import"./hoist-non-react-statics.cjs-CmBnlRmG.js";import"./index-BaoGZ968.js";import"./Progress-CEKx0qSC.js";import"./ScrollBar-DbInVHFp.js";import{C as y}from"./ClipLoader-CZ1hAsWk.js";import"./toString-DKANHZ97.js";import"./Views-tZVvsZbt.js";import"./index-DtRuNtK-.js";import"./CloseButton-Cmt1tiqF.js";import"./_getPrototype-BGPo7mUk.js";import"./index-Chjiymov.js";const Q=()=>{var l,c,m;const{id:i}=x();g();const{data:t,isLoading:p,error:d}=h({queryKey:["product",i],queryFn:()=>j(Number(i)),enabled:!!i,select:r=>({...r,data:{...r.data,data:{...r.data.data,isAssigned:r.data.data.currentAssignment!==null}}})});if(d&&u.push(e.jsx(N,{title:"Error",type:"danger",children:d.message||"Failed to load product details"})),p)return e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx(y,{color:"#3B82F6",size:40})});if(!((l=t==null?void 0:t.data)!=null&&l.data))return e.jsx("div",{className:"p-4 text-center",children:"Product not found"});const s=t.data.data,n=s.isAssigned,a=s.currentAssignment;return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("div",{className:"mb-4"}),e.jsx(b,{className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:s.name}),e.jsx("p",{className:"text-gray-600 mb-4",children:s.model}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Category:"}),e.jsx("span",{className:"ml-2",children:((c=s.category)==null?void 0:c.name)||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Branch:"}),e.jsx("span",{className:"ml-2",children:((m=s.branch)==null?void 0:m.name)||"-"})]}),s.department&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Department:"}),e.jsx("span",{className:"ml-2",children:s.department.name})]}),s.warrantyDate&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Warranty Until:"}),e.jsx("span",{className:"ml-2",children:new Date(s.warrantyDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Created At:"}),e.jsx("span",{className:"ml-2",children:new Date(s.createdAt).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Last Updated:"}),e.jsx("span",{className:"ml-2",children:new Date(s.updatedAt).toLocaleDateString()})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx(o,{className:n?"text-white bg-blue-500":"text-white bg-emerald-500",children:n?"Assigned":"Available"}),e.jsx(o,{className:s.complianceStatus?"text-white bg-green-500":"text-white bg-red-500",children:s.complianceStatus?"Compliant":"Non-compliant"})]}),n&&a&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg mb-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Currently Assigned To"}),e.jsxs("p",{className:"text-gray-800 dark:text-gray-200",children:[a.employee.name,a.employee.empId&&` (${a.employee.empId})`]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Assigned on: ",new Date(a.assignedAt).toLocaleDateString()]}),a.expectedReturnAt&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Expected return: ",new Date(a.expectedReturnAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Notes"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:s.notes||"No notes available"})]})]})]})})]})};export{Q as default};
